---

version: 0.2

# run-as: Linux-user-name

# env:
#  shell: shell-tag
#  variables:
#    key1: "value"
#    key2: "value"
#  parameter-store:
#    key3: "value"
#    key4: "value"
#  exported-variables:
#    - variable
#    - variable
#  secrets-manager:
#    key: secret-id:json-key:version-stage:version-id
#  git-credential-helper: no | yes

# proxy:
#  upload-artifacts: no | yes
#  logs: no | yes

# batch:
#  fast-fail: false | true
# build-list:
# build-matrix:
# build-graph:

phases:
  install:
    runtime-versions:
      php: 8.4
    commands:
      - composer install --no-dev
      - npm install

  build:
    commands:
      - echo Build started on `date`
      - npm run build

artifacts:
  files:
    - '**/*'
#  name: artifact-name
#  discard-paths: no | yes
#  base-directory: location
#  exclude-paths: excluded paths
#  enable-symlinks: no | yes
#  s3-prefix: prefix
#  secondary-artifacts:
#    artifactIdentifier:
#      files:
#        - location
#        - location
#      name: secondary-artifact-name
#      discard-paths: no | yes
#      base-directory: location
